version: v1.0
name: Initial Pipeline
agent:
  machine:
    type: s1-lucaspin-testing
    os_image: ''
  containers:
    - name: main
      image: 'docker.io/ruby:3.2.1'
blocks:
  - name: 'Block #1'
    task:
      jobs:
        - name: 'Job #1'
          commands:
            - cache
            - artifact
            - checkout
            - 'for i in {0..60}; do echo "[$i] hello" && sleep 1; done'
          parallelism: 50
    dependencies: []
  - name: 'Block #2'
    dependencies: []
    task:
      jobs:
        - name: 'Job #2'
          commands:
            - cache
            - artifact
            - checkout
            - 'for i in {0..60}; do echo "[$i] hello" && sleep 1; done'
          parallelism: 50
  - name: 'Block #3'
    dependencies: []
    task:
      jobs:
        - name: 'Job #3'
          commands:
            - cache
            - artifact
            - checkout
            - 'for i in {0..60}; do echo "[$i] hello" && sleep 1; done'
          parallelism: 50
